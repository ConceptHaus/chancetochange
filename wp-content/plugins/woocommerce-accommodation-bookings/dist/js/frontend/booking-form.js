(()=>{"use strict";const e=window.wp.i18n;function o(e){return e.closest(".product").hasClass("product-type-accommodation-booking")}function t(e){return(e=a(e)).closest("form")}function a(e){return jQuery(e)}function d(e){let o=null;return o="end"===e.data("start_or_end_date")?"start":"end",o}!function(s){const c=window.wc_bookings.hooks;c.addFilter("wc_bookings_date_picker_get_day_attributes","wc_accommodation_booking/booking_form",((a,d)=>{let{booking_data:s,custom_data:c,date_picker:_,resource_id:n,date:i}=d;const l=t(_),r=`${i.getFullYear()}-${i.getMonth()+1}-${i.getDate()}`;return o(l)?(s.fully_booked_start_days&&s.fully_booked_start_days[r]&&("automatic"===c.resources_assignment||s.fully_booked_start_days[r][0]||s.fully_booked_start_days[r][n])&&a.class.push("fully_booked_start_days"),s.fully_booked_end_days&&s.fully_booked_end_days[r]&&("automatic"===c.resources_assignment||s.fully_booked_end_days[r][0]||s.fully_booked_end_days[r][n])&&a.class.push("fully_booked_end_days"),a.class.indexOf("fully_booked_start_days")>-1?a.title=(0,e.__)("Available for check-out only.","woocommerce-accommodation-bookings"):a.class.indexOf("fully_booked_end_days")>-1&&(a.title=(0,e.__)("Available for check-in only.","woocommerce-accommodation-bookings")),a):a})),c.addAction("wc_bookings_date_picker_refreshed","wc_accommodation_booking/booking_form",(a=>{let{date_picker:d}=a;const s=t(d);o(s)&&(s.find("fieldset").attr("data-content",(0,e.__)("Select check-in","woocommerce-accommodation-bookings")),s.find(".fully_booked_start_days").addClass("ui-datepicker-unselectable ui-state-disabled"),s.find(".fully_booked_end_days").removeClass("ui-datepicker-unselectable ui-state-disabled"))})),c.addAction("wc_bookings_date_selected","wc_accommodation_booking/booking_form",(s=>{let{fieldset:c,date_picker:_}=s;const n=a(c),i=d(a(_));let l="";o(t(c))&&(n.attr("data-selected-date-type",i),l="end"===i?(0,e.__)("Selected! Re-select to change your check-in date.","woocommerce-accommodation-bookings"):(0,e.__)("Select check-out","woocommerce-accommodation-bookings"),n.attr("data-content",l))})),c.addAction("wc_bookings_pre_calculte_booking_cost","wc_accommodation_booking/booking_form",(e=>{let{form:t,date_picker:s}=e;const c=a(s),_=a(t),n=d(c);o(_)&&("end"===n?(_.find(".fully_booked_start_days").addClass("ui-datepicker-unselectable ui-state-disabled"),_.find(".fully_booked_end_days").removeClass("ui-datepicker-unselectable ui-state-disabled")):(_.find(".fully_booked_start_days").removeClass("ui-datepicker-unselectable ui-state-disabled"),_.find(".fully_booked_end_days").addClass("ui-datepicker-unselectable ui-state-disabled")))}))}(jQuery)})();